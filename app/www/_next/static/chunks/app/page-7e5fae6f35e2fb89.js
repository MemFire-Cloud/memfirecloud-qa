(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4723:function(e,t,s){Promise.resolve().then(s.bind(s,5857))},5857:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var n=s(7437),r=s(2265),l=s(9349),i=s(1130),a=s(3159);function o(){let[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)(!1),d=e=>{t(t=>[...t,e])},u=()=>{var e;let t=document.getElementById("message-input"),s=null==t?void 0:null===(e=t.value)||void 0===e?void 0:e.trim();0!=s.length&&(d({sender:"user",text:s}),t.value="",o(!0),fetch("/api/v1/qa/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:s})}).then(e=>{if(o(!1),!e.ok)throw Error("HTTP Request Error");return e.json()}).then(e=>{console.log("Table definition posted successfully:",e),d({sender:"ai",text:e.result})}).catch(e=>{o(!1),console.error("Error posting table definition:",e),d({sender:"ai",text:"请求失败"})}))};return(0,n.jsxs)("div",{className:"h-screen flex flex-col justify-between bg-gray-100",children:[(0,n.jsx)("div",{className:"p-4 flex-1 overflow-y-auto",children:e.map((e,t)=>(0,n.jsx)("div",{className:"p-2 rounded ".concat("user"===e.sender?"bg-blue-500 text-white self-end":"bg-white text-gray-800 self-start"),children:(0,n.jsx)(l.D,{remarkPlugins:[i.Z],children:e.text})},t))}),(0,n.jsxs)("div",{className:"p-4 flex items-center",children:[(0,n.jsx)("input",{id:"message-input",type:"text",placeholder:"请输入你的问题...",className:"flex-1 p-2 border rounded",onKeyDown:e=>{"Enter"===e.key&&u()},disabled:s}),(0,n.jsx)("button",{className:"ml-2 px-4 py-2 bg-blue-500 text-white rounded",disabled:s,onClick:u,children:s?(0,n.jsx)(a.fCD,{className:"mr-1 animate-spin"}):(0,n.jsx)(a.Y2X,{className:"mr-1"})})]})]})}}},function(e){e.O(0,[420,963,971,596,744],function(){return e(e.s=4723)}),_N_E=e.O()}]);